## 需求分析
我们要创建一个具备查询实时天气的聊天机器人。

## 实现流程
该项目按照以下三个步骤来完成：
+ 第一步：准备工作
  
    申请API_KEY，配置环境变量。
  
+ 第二步：定义Function Tools

    定义外部函数，描述函数功能。
  
+ 第三步：模型应用Function Call

    输入prompt, 模型输出函数参数，然后调用本地函数获得结果，融合信息后将新的prompt再次送入模型，得到最终结果。
   
## Function Call 单一函数应用流程
+ 定义函数：函数可以是真实的外部API或工具, 也可以是模拟函数。
+ 提供函数定义给模型：将定义好的函数作为参数(tools)提供给模型。
+ 模型生成函数调用JSON：包含要调用的函数名称和参数值。
+ 后端系统执行函数：后端系统根据JSON中的内容, 调用相应的函数结果。
+ 将函数结果返回给模型：函数返回结果给模型, 作为模型的额外上下文信息。
+ 模型生成最终响应: 模型综合原始查询、函数调用结果等信息, 生成最终输出。

## 归纳总结
将函数定义提供给模型后，当模型需要调用外部函数的时候，会在模型返回的response中包含相应的参数及信息。我们只需要解析出这些信息，在后端进行调用，然后把结果给模型就可以了。